# Ù†Ø³Ø®Ù‡ Ø§ÙˆÙ„ÛŒÙ‡ ) Api ( Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
### 1. Ø¯Ø±ÛŒØ§ÙØª Ø¬Ø¯ÙˆÙ„ Ù„Ø§ÛŒÙˆ Ù†ÙˆØ¨ØªÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¹Ù…ÙˆÙ…ÛŒ
**GET** `/api/live-appointments/`
- Ø¨Ø¯ÙˆÙ† ÙˆØ±ÙˆØ¯ ÛŒ
- Ø®Ø±ÙˆØ¬ÛŒ :
```json
[
{
"patient_name": "Ø¹Ù„ÛŒ Ø±Ø¶Ø§ÛŒÛŒ ",
"treatment_type": "ØªØ­ÙˆÛŒÙ„ Ù‚Ø§Ù„Ø¨ ",
"predicted_start_time": "14:30",
"remaining_minutes": 20,
"status": "waiting" // waiting | in_progress | completed
},
...
]
```
---
### 2. ÙˆØ±ÙˆØ¯ Ù…Ù†Ø´ÛŒ Ø¨Ø§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±
**POST** `/api/auth/login-staff/`
- ÙˆØ±ÙˆØ¯ÛŒ :
```json
{
"username": "admin",
"password": "admin123"
}
```
- Ø®Ø±ÙˆØ¬ÛŒ :
```json
{
"token": "JWT_TOKEN_HERE",
"role": "receptionist"
}
```
---
### 3. ÙˆØ±ÙˆØ¯ Ø¨ÛŒÙ…Ø§Ø± Ø¨Ø§ ØªÙ„ÙÙ† Ù‡Ù…Ø±Ø§Ù‡ Ùˆ OTP
**POST** `/api/auth/request-otp/`
```json
{
"phone_number": "09121234567"
}
```
**POST** `/api/auth/verify-otp/`
```json
{
"phone_number": "09121234567",
"code": "9836"
}
```
Ø®Ø±ÙˆØ¬ÛŒ Ù‡Ø± Ø¯Ùˆ Ù…Ø±Ø­Ù„Ù‡ Ø´Ø§Ù…Ù„ ØªÙˆÚ©Ù† JWT Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯ .
---
### 4. Ø«Ø¨Øª Ù†ÙˆØ¨ØªÙ‡Ø§ÛŒ ÛŒÚ© Ø±ÙˆØ² ØªÙˆØ³Ø· Ù…Ù†Ø´ÛŒ (Batch Add Appointments)
**POST** `/api/appointments/batch-add/`
- ÙˆØ±ÙˆØ¯ÛŒ :
```json
{
"date": "2025-07-01",
"start_time": "13:30",
"appointments": [
{"patient_id": 1, "treatment_type": "ØªØ­ÙˆÛŒÙ„ Ù‚Ø§Ù„Ø¨ "},
{"patient_id": 2, "treatment_type": "ØªØ¹ÙˆÛŒØ¶ Ø³ÛŒÙ… "},
{"patient_id": 3, "treatment_type": "ØªÙ†Ø¸ÛŒÙ… Ø¨Ø±Ø§Ú©Øª "}
]
}
```
- Ø®Ø±ÙˆØ¬ÛŒ :
```json
{
"status": "generated",
"scheduled": [
{"patient_name": "Ø²Ù‡Ø±Ø§ Ù‚Ø§Ø³Ù…ÛŒ ", "predicted_time": "13:30"},
...
]
}
```
---
### 5. Ø¯Ø±ÛŒØ§ÙØª Ù†ÙˆØ¨ØªÙ‡Ø§ÛŒ ÛŒÚ© Ø±ÙˆØ² Ø®Ø§Øµ )ØªÙ‚ÙˆÛŒÙ…(
**GET** `/api/appointments/calendar/?date=2025-07-01`
- Ø®Ø±ÙˆØ¬ÛŒ :
```json
[
{
"patient_name": "Ø²Ù‡Ø±Ø§ Ù‚Ø§Ø³Ù…ÛŒ ",
"treatment_type": "Ú†Ø³Ø¨Ø§Ù†Ø¯Ù† Ø¨Ø±Ø§Ú©Øª ",
"status": "scheduled"
}, ...
]
```
---
### 6. ÙˆØ¶Ø¹ÛŒØª Ù†ÙˆØ¨ØªÙ‡Ø§ - Ú©Ù†ØªØ±Ù„ ØªÙˆØ³Ø· Ù…Ù†Ø´ÛŒ )Ø­Ø¶ÙˆØ±ØŒ Ø¹Ø¯Ù… Ø­Ø¶ÙˆØ±ØŒ Ù¾Ø§ÛŒØ§Ù† Ø¯Ø±Ù…Ø§Ù†ØŒ Ø§ÙØ²ÙˆØ¯Ù† Ø²Ù…Ø§Ù†(
**PATCH** `/api/appointments/{id}/update-status/`
- ÙˆØ±ÙˆØ¯ÛŒ :
```json
{
"status": "in_progress" // completed | cancelled | absent
}
```
**PATCH** `/api/appointments/{id}/add-time/`
```json
{
"extra_minutes": 10
}
```
---
### Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨ÛŒÙ…Ø§Ø± Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù…Ù†Ø´ÛŒ ÛŒØ§ Ø¨ÛŒÙ…Ø§Ø± . 7
**GET and POST** `/api/patients/{id}/profile/`
```json
{
"full_name": " Ø²Ù‡Ø±Ø§ Ù‚Ø§Ø³Ù… ÛŒ ",
"birth_date": "2004-03-15",
"allergies": " Ù¾Ù† ÛŒØ³ÛŒÙ„ÛŒÙ† ",
"diseases": "Ø¯ÛŒØ§Ø¨Øª ",
...
}
```
---
### 8. Ø³ÙˆØ§Ø¨Ù‚ Ø¯Ø±Ù…Ø§Ù† Ø¨ÛŒÙ…Ø§Ø±
**GET** `/api/patients/{id}/treatments/`
```json
[
{
"date": "2025-06-01",
"treatment_type": "ØªÙ†Ø¸ÛŒÙ… Ø¨Ø±Ø§Ú©Øª ",
"status": "completed",
"notes": "Ø¯Ø±Ù…Ø§Ù† Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯ .",
"link_to_payment": "/api/payments/12/"
}, ...
]
```
---
### 9. Ù¾Ø±Ø¯Ø§Ø®ØªÛŒÙ‡Ø§ )Ù†Ù…Ø§ÛŒØ´ + Ø«Ø¨Øª(
**GET** `/api/patients/{id}/payments/`
```json
[
{
"id": 1,
"treatment_type": "Ù†ØµØ¨ Ø³ÛŒÙ… ",
"total": 2000000,
"paid": 500000,
"status": "partial",
"method": "pos",
"tracking_code": "87463"
}
]
```
**POST** `/api/payments/`
```json
{
"patient_id": 5,
"treatment_type": "ØªØ¹ÙˆÛŒØ¶ Ø³ÛŒÙ… ",
"total": 1000000,
"paid": 300000,
"method": "cash",
"tracking_code": "XKD745"
}
```
---
### 10. Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ Ù¾Ø²Ø´Ú©ÛŒ (PDF, Ø¹Ú©Ø³, Ø±Ø§Ø¯ÛŒÙˆÚ¯Ø±Ø§ÙÛŒ )
**POST** `/api/files/`
`multipart/form-data`
```
file: [File]
patient_id: 5
file_type: xray | pdf | image
```
---
### 11. Ù†Ú©Ø§Øª Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø¨Ø±Ø§ÛŒ Ø¨ÛŒÙ…Ø§Ø±Ø§Ù†
**GET** `/api/education/`
```json
[
{
"title": " Ù…Ø±Ø§Ù‚Ø¨Øª Ø§Ø² Ø¨Ø±Ø§Ú© Øª ",
"file_type": "video",
"file_url": "https://www.aparat.com/v/XXXX"
}
]
```
---
ğŸ”’ ØªÙ…Ø§Ù… endpoint Ù‡Ø§ÛŒ Ø¨Ø§Ù„Ø§ Ø¨Ø§ ØªÙˆÚ©Ù† JWT Ø§Ù…Ù†Ø³Ø§Ø²ÛŒ Ø®ÙˆØ§Ù‡Ù†Ø¯ Ø´ Ø¯ Ø¨Ù‡ Ø¬Ø² ØµÙØ­Ù‡ Ù„Ù†Ø¯ÛŒÙ†Ú¯ Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³ Øª otp